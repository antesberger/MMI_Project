<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0,user-scalable=no,maximum-scale=1,width=device-width">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <title>Condition B</title>

  <script src="https://aframe.io/releases/0.5.0/aframe.min.js"></script>
  <script src="https://rawgit.com/ngokevin/aframe-look-at-component/master/dist/aframe-look-at-component.min.js"></script>
  <script src="js/aframe-extras.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/nunjucks/2.3.0/nunjucks.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
  <script src="https://rawgit.com/ngokevin/aframe-template-component/master/dist/aframe-template-component.min.js"></script>
  <script src="js/aframe-particle-system-component.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="js/analysis.js"></script>
  <link rel="stylesheet" type="text/css" href="css/common.css"/>
</head>
<body>
  
  <a-scene fog="type: linear; color: #000000; far: 30; near: 0" stats>

    <!-- assets -->
    <a-assets>
      <!-- matching sound -->
      <video muted id="video" src="assets/video/elefants_withsound.mp4" playsinline preload="auto"></video>

      <script id="targetBox" type="text/x-nunjucks-template">
        <a-entity template="src: templates/components/targetBox.template; type: handlebars"></a-entity>
      </script>

      <script id="room" type="text/x-nunjucks-template">
        <a-entity template="src: templates/components/sphere.template; type: handlebars"
        data-video="#video"
        ></a-entity>
      </script>
    </a-assets>

    <!-- Kamera -->
    <a-entity position="0 2.5 0">
      <a-entity id="camera" camera look-controls wasd-controls>
        <a-cursor radius-outer="0.03" radius-inner="0.02" position="0 0 -0.5" material="color: cyan; shader: flat" max-distance="2">
          <a-animation begin="cursor-hovering" easing="ease-in" attribute="color" fill="forwards" from="cyan" to="#7ED321" dur="350"></a-animation>
        </a-cursor>
      </a-entity>
    </a-entity>

    <!-- Room Geometry -->
    <a-videosphere src="#video" material="shader: standard; fog: false;" radius="25" rotation="0 -90 0"></a-videosphere>

    <!-- init instructions-->
    <a-entity id="startText" text="value:start; color:black" position="2.80 1.04 -1.83" scale="4 4 4"></a-entity>

    
    <!-- start scene on hover -->
    <a-box id="initLink" text="value:test" position="1 1 -1.85" scale="1 0.3 0.01" init-hover>
      <a-animation attribute="scale" dur="300"  from="1 0.3 0.01" to="1.5 0.6 0.01" begin="inithoveron"></a-animation>
      <a-animation attribute="scale" dur="300"  from="1.5 0.6 0.01" to="1 0.3 0.01" begin="inithoveroff"></a-animation>
    </a-box>
  </a-scene>

  <!-- <div class="buttons novr">
    <a href="javascript:togglePlayback()">toggle playback</a>
  </div> -->

  <script src="js/common.js"></script>
</body>
</html>
